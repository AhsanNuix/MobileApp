{"ast":null,"code":"import _regeneratorRuntime from \"@babel/runtime/regenerator\";\nimport View from \"react-native-web/dist/exports/View\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport React, { useEffect } from \"react\";\nimport { Permissions } from \"expo\";\nimport * as Notifications from \"expo-notifications\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nexport default function PushNotifications() {\n  useEffect(function _callee() {\n    var _await$Notifications$, existingStatus, finalStatus, _await$Notifications$2, status, token;\n\n    return _regeneratorRuntime.async(function _callee$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            _context.prev = 0;\n            _context.next = 3;\n            return _regeneratorRuntime.awrap(Notifications.getPermissionsAsync());\n\n          case 3:\n            _await$Notifications$ = _context.sent;\n            existingStatus = _await$Notifications$.status;\n            finalStatus = existingStatus;\n\n            if (!(existingStatus !== \"granted\")) {\n              _context.next = 12;\n              break;\n            }\n\n            _context.next = 9;\n            return _regeneratorRuntime.awrap(Notifications.requestPermissionsAsync());\n\n          case 9:\n            _await$Notifications$2 = _context.sent;\n            status = _await$Notifications$2.status;\n            finalStatus = status;\n\n          case 12:\n            if (!(finalStatus !== \"granted\")) {\n              _context.next = 15;\n              break;\n            }\n\n            alert(\"Failed to get push token for push notification!\");\n            return _context.abrupt(\"return\");\n\n          case 15:\n            _context.next = 17;\n            return _regeneratorRuntime.awrap(Notifications.getExpoPushTokenAsync());\n\n          case 17:\n            token = _context.sent.data;\n            console.log(token);\n            _context.next = 24;\n            break;\n\n          case 21:\n            _context.prev = 21;\n            _context.t0 = _context[\"catch\"](0);\n            console.log(_context.t0);\n\n          case 24:\n          case \"end\":\n            return _context.stop();\n        }\n      }\n    }, null, null, [[0, 21]], Promise);\n  }, []);\n  return _jsx(View, {});\n}","map":{"version":3,"names":["React","useEffect","Permissions","Notifications","PushNotifications","getPermissionsAsync","existingStatus","status","finalStatus","requestPermissionsAsync","alert","getExpoPushTokenAsync","token","data","console","log"],"sources":["D:/Study/Smester 5/MobileApp-Development/Project/Servaid_Expo/src/notification/index.js"],"sourcesContent":["import { View, Text } from \"react-native\";\r\nimport React, { useEffect } from \"react\";\r\nimport { Permissions } from \"expo\";\r\nimport * as Notifications from \"expo-notifications\";\r\nexport default function PushNotifications() {\r\n  useEffect(async () => {\r\n    try {\r\n      const { status: existingStatus } =\r\n        await Notifications.getPermissionsAsync();\r\n      let finalStatus = existingStatus;\r\n      if (existingStatus !== \"granted\") {\r\n        const { status } = await Notifications.requestPermissionsAsync();\r\n        finalStatus = status;\r\n      }\r\n      if (finalStatus !== \"granted\") {\r\n        alert(\"Failed to get push token for push notification!\");\r\n        return;\r\n      }\r\n      const token = (await Notifications.getExpoPushTokenAsync()).data;\r\n      console.log(token);\r\n    } catch (error) {\r\n      console.log(error);\r\n    }\r\n  }, []);\r\n  return <View></View>;\r\n}\r\n"],"mappings":";;;AACA,OAAOA,KAAP,IAAgBC,SAAhB,QAAiC,OAAjC;AACA,SAASC,WAAT,QAA4B,MAA5B;AACA,OAAO,KAAKC,aAAZ,MAA+B,oBAA/B;;AACA,eAAe,SAASC,iBAAT,GAA6B;EAC1CH,SAAS,CAAC;IAAA;;IAAA;MAAA;QAAA;UAAA;YAAA;YAAA;YAAA,iCAGEE,aAAa,CAACE,mBAAd,EAHF;;UAAA;YAAA;YAEUC,cAFV,yBAEEC,MAFF;YAIFC,WAJE,GAIYF,cAJZ;;YAAA,MAKFA,cAAc,KAAK,SALjB;cAAA;cAAA;YAAA;;YAAA;YAAA,iCAMqBH,aAAa,CAACM,uBAAd,EANrB;;UAAA;YAAA;YAMIF,MANJ,0BAMIA,MANJ;YAOJC,WAAW,GAAGD,MAAd;;UAPI;YAAA,MASFC,WAAW,KAAK,SATd;cAAA;cAAA;YAAA;;YAUJE,KAAK,CAAC,iDAAD,CAAL;YAVI;;UAAA;YAAA;YAAA,iCAaeP,aAAa,CAACQ,qBAAd,EAbf;;UAAA;YAaAC,KAbA,iBAasDC,IAbtD;YAcNC,OAAO,CAACC,GAAR,CAAYH,KAAZ;YAdM;YAAA;;UAAA;YAAA;YAAA;YAgBNE,OAAO,CAACC,GAAR;;UAhBM;UAAA;YAAA;QAAA;MAAA;IAAA;EAAA,CAAD,EAkBN,EAlBM,CAAT;EAmBA,OAAO,KAAC,IAAD,KAAP;AACD"},"metadata":{},"sourceType":"module"}